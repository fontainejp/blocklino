<!DOCTYPE HTML>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title> BLOCKLINO </title>
		<!-- JavaScript -->
		<script src="js/blockly.min.js"></script>
		<script src="js/type.js"></script>
		<script src="js/types.js"></script>
		<script src="js/typings.js"></script>
		<script src="js/generate_python.js"></script>
		<script src="js/generate_cpp.js"></script>
		<script src="js/blocklino.js"></script>
		<script src="js/boards.js"></script>
		<script src="js/jquery.min.2.1.3.js" onload="window.$ = window.jQuery = module.exports;"></script>
		<script src="js/bootstrap.toggle.min.js"></script>
		<script src="js/bootstrap.min.3.3.6.js"></script>
		<script src="js/prettify.min.js"></script>
		<script src="blocs&generateurs/blockly_blocs.js"></script>
		<script src="blocs&generateurs/arduino_blocs.js"></script>
		<script src="blocs&generateurs/arduino_generateurs_cpp.js"></script>
		<script src="blocs&generateurs/arduino_generateurs_python.js"></script>
		<script src="blocs&generateurs/blockly_generateurs_cpp.js"></script>
		<script src="blocs&generateurs/blockly_generateurs_python.js"></script>
		<script src="blocs&generateurs/_midi.js"></script>
		<script src="blocs&generateurs/_color.js"></script>
		<script src="blocs&generateurs/_actionneur.js"></script>
		<script src="blocs&generateurs/_audio.js"></script>
		<script src="blocs&generateurs/_capteur.js"></script>
		<script src="blocs&generateurs/_iot.js"></script>
		<script src="blocs&generateurs/_microbit.js"></script>
		<script src="blocs&generateurs/factory/append.js"></script>
		<script src="blocs&generateurs/FRESNEL/arduino_conversion_blocs.js"></script>
		<script src="blocs&generateurs/FRESNEL/Addon_Arduino.js"></script>
		<script src="blocs&generateurs/FRESNEL/Bitwise_operators_blocs.js"></script>
		<script src="blocs&generateurs/FRESNEL/Fresnel_serial_console.js"></script>
		<script src="blocs&generateurs/FRESNEL/Fresnel_LCD.js"></script>
		<script src="blocs&generateurs/FRESNEL/SPI_blocs.js"></script>	
		<script src="blocs&generateurs/FRESNEL/DHTxx.js"></script>	
		<script src="blocs&generateurs/FRESNEL/SHT1x.js"></script>
		<script src="blocs&generateurs/FRESNEL/BQ27441.js"></script>
		<script src="blocs&generateurs/FRESNEL/FresnelMotor.js"></script>
		<script src="blocs&generateurs/FRESNEL/table_XY_makeblock.js"></script>
		<script src="blocs&generateurs/FRESNEL/servomotor.js"></script>
		<script src="blocs&generateurs/FRESNEL/SCS15_Servo.js"></script>
		<script src="blocs&generateurs/FRESNEL/Grove_I2C_mini_motor_driver.js"></script>
		<script src="blocs&generateurs/FRESNEL/Grove_I2C_motor_driver.js"></script>
		<script src="blocs&generateurs/FRESNEL/I2C.js"></script>
		<script src="blocs&generateurs/FRESNEL/Ethernet.js"></script>
		<script src="js/typing.js"></script>
		<script src="lang/code.js"></script>
		<script src="js/hexlify.js"></script>
		<script src="js/intel-hex.browser.js"></script>
		<script src="js/ace/ace.js"></script>
		<script src="js/ace/ext-language_tools.js"></script>
		<!-- CSS -->
		<link rel="stylesheet" href="css/bootstrap.min.3.3.6.css">
		<link rel="stylesheet" href="css/bootstrap.toggle.min.css">
		<link rel="stylesheet" href="css/fontawesome.css">
		<link rel="stylesheet" href="css/blocklino_sqlserver.css" id="theme_css">
		<link rel="stylesheet" href="css/prettify.min.css">
	</head>
	<body onload="BlocklyDuino.init()">
		<div class="loading"></div>
		<div id="toptitle">
			<div id="title">
				<strong><span id="span_title1"></span></strong><span id="span_title2"></span><em><span id="span_file"></span></em>
			</div>
			<div id="title-bar-btns">
				<button id="btn_min" type="button" class="btn btn-minmax"><i class="fa fa-window-minimize fa-lg"></i></button>
				<button id="btn_max" type="button" class="btn btn-minmax"><i class="fa fa-window-restore fa-lg"></i></button>
				<button id="btn_quit" type="button" class="btn btn-quit"><i class="fa fa-times fa-1_75x"></i></button>
			</div>
		</div>
		<div id="header">
			<div id="btn_left" >
				<ul class="nav nav-tabs" role="tablist" style="display:none">
					<li role="presentation" class="active"><a href="#content_blocks" aria-controls="content_blocks" role="tab" data-toggle="tab"></a></li>
					<li role="presentation"><a href="#content_code" aria-controls="content_code" role="tab" data-toggle="tab"></a></li>
				</ul>
				<input type="file" id="load" accept=".bloc,.xml,.py,.ino" style="display:none">
				<input id="codeORblock" checked data-toggle="toggle" data-on="<img src='media/icon.png' width='20px'>" data-off="<i class='fa fa-code fa-1_5x'></i>" data-onstyle="default" data-offstyle="default" type="checkbox">
			</div>
			<div id="btn_center" class="btn-toolbar">
				<div class="btn-group">
					<button id="btn_new" class="btn btn-default btn_color">
						<i class="fa fa-file fa-1_5x"></i>
					</button>
					<button id="btn_example" class="btn btn-default btn_color" data-toggle="modal" data-target="#exampleModal">
						<i class="fa fa-file-text fa-1_5x"></i>
					</button>
					<button id="btn_fakeload" class="btn btn-default btn_color">
						<i class="fa fa-folder-open fa-1_5x"></i>
					</button>
					<button id="btn_saveXML" class="btn btn-default btn_color">
						<i class="fa fa-cloud-download fa-1_5x"></i>
					</button>
				</div>
				<div class="btn-group">
					<button id="btn_config" class="btn btn-default btn_color" data-toggle="modal" data-target="#configModal">
						<i class="fa fa-cog fa-1_5x"></i>
					</button>
					<button id="btn_factory" class="btn btn-default btn_color">
						<i class="fa fa-industry fa-1_5x"></i>
					</button>
					<div class="btn-group">
						<button id="btn_tools" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-list-ul fa-1_5x btn_color"></i>
						</button>
						<ul class="dropdown-menu">
							<li><a href="#" id="btn_html"><i class="fa fa-globe fa-1_5x fa-fw btn_color_menu"></i><span id="span_html"></span></a></li>
							<li><a href="#" id="btn_games"><i class="fa fa-gamepad fa-1_5x fa-fw btn_color_menu"></i><span id="span_games"></span></a></li>
							<li><a href="#" id="btn_turtle"><i class="fa fa-pencil fa-1_5x fa-fw btn_color_menu"></i><span id="span_turtle"></span></a></li>
							<li><a href="#" id="btn_midi"><i class="fa fa-headphones fa-1_5x fa-fw btn_color_menu"></i><span id="span_midi"></span></a></li>
						</ul>
					</div>
					<button id="btn_about" class="btn btn-default btn_color" data-toggle="modal" data-target="#aboutModal">
						<i class="fa fa-question fa-1_5x"></i>
					</button>
				</div>
				<div class="btn-group">
					<button id="btn_card" class="btn btn-default btn_color" data-toggle="modal" data-target="#cardModal">
						<i class="fa fa-microchip fa-1_5x"></i>
					</button>	
					<select class="my_select" id="boards" onchange="BlocklyDuino.change_card()">
						<optgroup label="C / C++">
							<option value="leonardo" >Arduino Léonardo</option>
							<option value="mega" >Arduino Méga 2560</option>
							<option value="micro" >Arduino Micro</option>
							<option value="mini" >Arduino Mini</option>
							<option value="nano" >Arduino Nano</option>
							<option value="pro8" >Arduino Pro Mini 3.3V</option>
							<option value="uno" >Arduino Uno</option>
							<option value="yun" >Arduino Yun</option>
							<option value="atmegang" >DAGU RS027</option>
							<option value="pro16" >DAGU RS040</option>
							<option value="xiao" >Seeed XIAO</option>
						</optgroup>
						<optgroup label="Python">
							<option value="esp8266" >ESP 8266</option>
							<option value="esp32" >ESP 32</option>
							<option value="microbit" >micro:bit</option>
							<option value="pyboard" >Pyboard</option>
						</optgroup>
					</select>
				</div>
				<div class="btn-group">
					<button id="btn_usb" class="btn btn-default btn_color" data-toggle="modal" data-target="#usbModal">
						<i class="fa fa-usb fa-1_5x"></i>
					</button>	
					<select class="my_select" id="portserie" onchange="BlocklyDuino.save_com();"></select>
				</div>
				<div class="btn-group">
					<button id="btn_verify" class="btn btn-default btn_color" data-toggle="tooltip" data-placement="bottom" >
						<i class="fa fa-check fa-1_5x"></i>
					</button>
					<button id="btn_flash" class='btn btn-default btn_color' data-toggle="tooltip" data-placement="bottom">
						<i class="fa fa-arrow-right fa-1_5x"></i>
					</button>
					<button id="btn_bin" class='btn btn-default btn_color' data-toggle="tooltip" data-placement="bottom">
						<i class="fa fa-code-fork fa-1_5x"></i>
					</button>
					<button id="btn_term" class="btn btn-default btn_color" data-toggle="tooltip" data-placement="bottom" >
						<i class="fa fa-search fa-1_5x"></i>
					</button>
					<!--
					<button id="btn_processing" class='btn btn-default btn_color' data-toggle="tooltip" data-placement="bottom">
						<i class="fa fa-clone fa-1_5x"></i>
					</button>
					-->
				</div>
			</div>
			<div id="btn_right" class="btn-group">
				<button id="btn_undo" class="btn btn-default btn_color">
					<i class="fa fa-undo fa-1_5x"></i>
				</button>
				<button id="btn_redo" class="btn btn-default btn_color">
					<i class="fa fa-repeat fa-1_5x"></i>
				</button>
				<button id="btn_print" class="btn btn-default btn_color">
					<i class="fa fa-camera fa-1_5x"></i>
				</button>
				<button id="btn_search" class="btn btn-default btn_color">
					<i class="fa fa-binoculars fa-1_5x"></i>
				</button>
				<button id="btn_preview" class="btn btn-default btn_color">
					<i class="fa fa-code fa-1_5x"></i>
				</button>
			</div>
		</div>
		<div id="divBody" class="tab-content">
			<div role="tabpanel" id="content_blocks" class="tab-pane fade in active" style="position:relative">
				<div id="toggle" class="modal-content" style="display:none">
					<pre id="pre_previewArduino"></pre>
					<div id="btn_right" class="btn-group">
						<button id="btn_saveino" class="btn btn-default btn_color">
							<i class="fa fa-floppy-o"></i>
						</button>
						<button id="btn_copy" class="btn btn-default btn_color">
							<i class="fa fa-files-o"></i>
						</button>
					</div>
				</div>
			</div>
			<div role="tabpanel" id="content_code" class="tab-pane fade"></div>
		</div>
		<!-- modal -->
		<div class="modal fade" id="usbModal" tabindex="-1" role="dialog" aria-labelledby="usbModalLabel" aria-hidden="true">
		  <div class="modal-dialog modal-lg">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
				<i class="fa fa-usb fa-2x" class="modal-title" id="usbModalLabel"></i>
			  </div>
			  <div class="modal-body">
				<div id="usb"></div>
			  </div>
			</div>
		  </div>
		</div>
		<div class="modal fade" id="message" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static" >
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-body" >
						<span id = "messageDIV"></span>
						<button id="btn_close_message" type="button" class="close" aria-label="Close" style="display:none">&#215;</button>
						<!--div class="btn-group"-->
						<button id="btn_detail" type="button" class="btn btn-xs btn-default" style="display:none"></button>
						<!--button id="btn_download" type="button" class="btn btn-xs btn-default" style="display:none"></button>
						</div-->
						<div id = "detailDIV"></div>
					</div>  
				</div>
			</div>
		</div>
		<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
				<i class="fa fa-2x" class="modal-title" id="aboutModalLabel"></i>
			  </div>
			  <div class="modal-body">
				<div class="container-fluid">
					<div class="row">
					  <div class="col-md-4"><img src="media/logo.png" width="128px"></div>
					  <div class="col-md-8">
						<span id="span_version1"></span><span id="span_version2"></span><br><br>
						<span id="aboutBody"></span><br><br>
						<button id="btn_site" class="btn btn-default">
							<span id="span_site"></span>
						</button>
						<button id="btn_forum" class="btn btn-default">
							<i class='fa fa-comments'></i><span id="span_forum"></span>
						</button>
						<button id="btn_contact" class="btn btn-default">
							<i class='fa fa-bug'></i><span id="span_contact"></span>
						</button>
					  </div>
					</div>
				</div>
			  </div>
			  <div class="modal-footer">
				<input type="checkbox" id="verifyUpdate"><span id="span_update"></span><br>
				<button id="btn_version" type="button" class="btn btn-xs btn-default"><span id="span_verify_update"></span></button><br />
			  </div>
			</div>
		  </div>
		</div>
		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog modal-lg">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" ><span aria-hidden="true">&#215;</span></button>
				<i class="fa fa-file-text fa-2x" class="modal-title" id="exampleModalLabel"></i>
			  </div>
			  <div class="modal-body">
				<div class="table-responsive">
					<table class="table table-hover">
						<tbody id="includedContent"></tbody>
					</table>
				</div>
			  </div>
			</div>
		  </div>
		</div>
		<div class="modal fade" id="cardModal" tabindex="-1" role="dialog" aria-labelledby="cardLabel" aria-hidden="true">
		  <div class="modal-dialog modal-md">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" ><span aria-hidden="true">&#215;</span></button>
				<i class="fa fa-microchip fa-2x" class="modal-title" id="cardLabel"></i>
			  </div>
			  <div class="modal-body">
				<div class="arduino_card_mini_picture_div" style="height: 516px">
					<img id="arduino_card_mini_picture"/>
				</div>
				<select size="17" multiple id="pinout" onchange="BlocklyDuino.cardPicture_change()">
					<optgroup label="C / C++">
						<option value="leonardo" >Arduino Léonardo</option>
						<option value="mega" >Arduino Méga 2560</option>
						<option value="micro" >Arduino Micro</option>
						<option value="mini" >Arduino Mini</option>
						<option value="nano" >Arduino Nano</option>
						<option value="pro8" >Arduino Pro / Pro Mini 3.3V</option>
						<option value="uno" >Arduino Uno</option>
						<option value="yun" >Arduino Yun</option>
						<option value="atmegang" >DAGU RS027</option>
						<option value="pro16" >DAGU RS040</option>
						<option value="xiao" >Seeed XIAO</option>
					</optgroup>
					<optgroup label="Python">
						<option value="esp8266" >ESP 8266</option>
						<option value="esp32" >ESP 32</option>
						<option value="microbit" >micro:bit</option>
						<option value="pyboard" >Pyboard</option>
					</optgroup>
				</select>
				<br><br>
				<span id="span_card_connect"></span><span id="card_connect" style="font-weight:bold;"></span><br>
				<span id="span_card_voltage"></span><span id="card_voltage" style="font-weight:bold;"></span><br>
				<span id="span_card_cpu"></span><span id="card_cpu" style="font-weight:bold;"></span><br>
				<span id="span_card_inout"></span><span id="card_inout" style="font-weight:bold;"></span><br>
				<span id="span_card_in_anal"></span><span id="card_in_anal" style="font-weight:bold;"></span><br>
				<span id="span_card_out_anal"></span><span id="card_out_anal"style="font-weight:bold;"></span><br>
				<span id="span_card_eeprom"></span><span id="card_eeprom" style="font-weight:bold;"></span><br>
				<br><br><br>
			  </div>
			</div>
		  </div>
		</div>
		<div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="configModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
					<i class="fa fa-cog fa-2x" class="modal-title"  id="configModalLabel"></i>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<label id="span_languageMenu"></label>
							<select id="languageMenu"></select>
							<br><br>
							<label id="span_fontsize"></label>
							<select id="fontsize">
								<option value="12px">12</option>
								<option value="14px" selected="selected">14</option>
								<option value="16px">16</option>
								<option value="18px">18</option>
								<option value="20px">20</option>
								<option value="22px">22</option>
							</select>
							<br><br>
							<label id="span_library"></label>
							<button id="btn_library_view" type="button" class="btn btn-xs btn-default"  data-toggle="modal" href="#modal_lib">
								<i class='fa fa-eye'></i><span id="span_lib_view"></span>
							</button>
							<button id="btn_library_add" type="button" class="btn btn-xs btn-default">
								<i class='fa fa-plus-circle'></i><span id="span_lib_add"></span>
							</button>
							<br><br>
							<label id="labelToolboxDefinition"></label>
							<select id="toolboxes">
								<option value="toolbox_6">1</option>
								<option value="toolbox_arduino_all" selected="selected">2</option>
								<option value="toolbox_microbit">3</option>
								<option value="toolbox_lycee">4</option>
								<option value="toolbox_fresnel_all">5</option>
							</select>
						</div>
						<div class="col-md-6">
							<label id="span_theme"></label>
							<select id="theme">
								<option value="monokai">Sombre</option>
								<option value="sqlserver" selected="selected">Clair</option>
							</select>
							<br><br>
							<!--label id="span_renderer"></label>
							<select id="renderer">
								<option value="zelos">Scratch</option>
								<option value="blockly" selected="selected">Blockly</option>
							</select>
							<br><br-->
							<label id="span_cache"></label>
							<button id="btn_cache_view" type="button" class="btn btn-xs btn-default" data-toggle="modal" href="#modal_cache">
								<i class='fa fa-eye'></i><span id="span_cache_view"></span>
							</button>
							<button id="btn_reset" type="button" class="btn btn-xs btn-danger">
								<i class='fa fa-trash-o'></i><span id="span_reset"></span>
							</button>
							<br><br>
							<br><br>
							<span id="span_select_all"></span><input type="checkbox" name="select_all" id="select_all">
						</div>
					</div>
					<br>
					<div id="modal-body-config"></div>
					<br>
					<label id="span_local_check"></label>
					<div class="input-group">
						<input type="text" class="form-control" id="distant_adress" placeholder="https://adresse.com/bloc.js">
						<span class="input-group-btn">
							<button id="btn_distant" type="button" class="btn btn-default">
								<i class='fa fa-refresh'></i><span id="span_local_go"></span>
							</button>
						</span>
					</div>
					
				</div>
				<div class="modal-footer">
					<button id="btn_valid_config" type="button" class="btn btn-default"></button>
				</div>
			</div>
		  </div>
		</div>
		<!-- modal child -->
		<div id="modal_cache" class="modal fade modal-child" data-modal-parent="#configModal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						<i class="fa fa-hdd-o fa-2x" class="modal-title" id="span_cache_title"></i>
					</div>
					<div class="modal-body">
						<span id="span_cache_dir"></span>
					</div>
				</div>
			</div>
		</div>
		<div id="modal_lib" class="modal fade modal-child" data-modal-parent="#configModal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						<i class="fa fa-book fa-2x" class="modal-title" id="span_lib"></i>
					</div>
					<div class="modal-body">
						<div class="container-fluid">
							<span id="span_lib_dir"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="modal_rvb" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/rvb/rvb.png" style="height:512px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_bp" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/bp/bp.png" style="height:418px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_buzzer" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/buzzer/buzzer.png" style="height:512px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_matrice" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/matrice/matrice.png" style="height:385px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_ligne" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/ligne/ligne.png" style="height:512px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_hum" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/hum/hum.png" style="height:512px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_potar" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/potar/potar.png" style="height:512px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_grove_oled" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/grove/grove.jpeg" style="height:580px">
					</div>
				</div>
			</div>
		</div>
		<div id="modal_grove_mp3" class="modal modal-child" data-modal-parent="#exampleModal">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-body">
						<img src="examples/grove/grove_mp3.jpeg" style="height:512px">
					</div>
				</div>
			</div>
		</div>
	</body>
	<script>
		$(window).load(function(){$(".loading").fadeOut("slow")});
		ace.require("ace/ext/language_tools");
		var editor = ace.edit("content_code");
		editor.session.setTabSize(2);
		editor.setShowPrintMargin(false);
		require('../resources/app/index.js')
	</script>
</html>